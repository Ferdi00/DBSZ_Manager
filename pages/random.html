<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DBZ Characters</title>
    <link rel="stylesheet" href="../css/random.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <a href="../index.html" class="navbar-logo">
          <img src="../images/logo.png" alt="DBZ Logo" />
        </a>
        <div class="menu-icon" id="menuIcon">
          <i class="fas fa-bars"></i>
        </div>
        <ul class="navbar-menu" id="navbarMenu">
          <li><a href="../index.html" class="navbar-link">Home</a></li>
          <li><a href="user.html" class="navbar-link">User</a></li>
          <li><a href="list.html" class="navbar-link">Characters List</a></li>
          <li>
            <a href="random.html" class="navbar-link">Random Selection</a>
          </li>
          <li><a href="battle.html" class="navbar-link">Battle</a></li>
          <li><a href="updates.html" class="navbar-link">Updates</a></li>
        </ul>
      </div>
    </nav>

    <!-- Menu laterale -->
    <div class="sidebar" id="sidebar">
      <div class="sidebar-close" id="sidebarClose">
        <i class="fas fa-times"></i>
      </div>
      <ul class="sidebar-menu">
        <li>
          <a href="../index.html" class="sidebar-link"
            ><i class="fas fa-home"></i> Home</a
          >
        </li>
        <li>
          <a href="user.html" class="sidebar-link"
            ><i class="fas fa-user"></i> User</a
          >
        </li>
        <li>
          <a href="list.html" class="sidebar-link"
            ><i class="fas fa-list"></i> Characters List</a
          >
        </li>
        <li>
          <a href="random.html" class="sidebar-link"
            ><i class="fas fa-random"></i> Random Selection</a
          >
        </li>
        <li>
          <a href="battle.html" class="sidebar-link"
            ><i class="fas fa-fist-raised"></i> Battle</a
          >
        </li>
        <li>
          <a href="updates.html" class="sidebar-link"
            ><i class="fas fa-history"></i> Updates</a
          >
        </li>
      </ul>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Container -->
    <div class="container">
      <h1>Random Character Selection</h1>
      <p>
        Click the button below to randomly generate characters for your team!
      </p>
      <div class="Option">
        <!-- Scelta della modalità di gioco -->
         <label class="orange" for="mode-selection">Select Mode:</label>
        <div class="mode-selection">
          <label>
            <input type="radio" name="gameMode" value="local" checked />
            Local Co-op
          </label>
          <label>
            <input type="radio" name="gameMode" value="online" />
            Multiplayer Online
          </label>
        </div>

        <!-- Sezione Multiplayer Online -->
      <div class="room-container" id="multiplayerSection" style="display: none;">
  <div class="create-room">
    <input type="text" id="roomPassword" placeholder="Enter Room Password">
    <button id="createRoomButton">Create Room</button>
  </div>
  <div class="join-room">
    <input type="text" id="joinRoomPassword" placeholder="Enter Room Password">
    <button id="joinRoomButton">Join Room</button>
  </div>
  <div id="roomIdDisplay" style="display: none;">
    <p>Room ID: <span id="roomIdText"></span></p>
  </div>
</div>

        <!-- Aggiungi un selettore per i preset -->
      <label class="orange" for="presetSelect">Select Preset:</label>
      <select id="presetSelect">
        <option value="preset1">PRESET_1: 1 TOP, 1 GOOD, 2 MID, 1 WEAK</option>
        <option value="preset2">PRESET_2: 1 TOP, 2 GOOD, 1 MID, 1 WEAK</option>
        <option value="preset3">PRESET_3: 2 TOP, 1 GOOD, 1 MID, 1 WEAK</option>
        <option value="preset4">FULL RANDOM</option>
        <option value="custom">CUSTOM PRESET</option>
      </select>

      <!-- Sezione per creare preset personalizzati -->
      <div id="customPresetSection" style="display: none;">
        <label class="orange" for="customPreset">Custom Preset:</label>
        <input type="text" id="customPreset" placeholder="e.g., TOP,GOOD,MID,WEAK,WEAK" />
      </div>


      <button id="generateButton" class="random-button">
        Generate Characters
      </button>
      </div>

    
      <!-- Contenitore delle tabelle -->
      <div class="tables">

        <!-- Giocatore 1 -->
        <div class="player-table" id="player1TableContainer">
           <div class="dlcToggle">
        <label class="toggle-switch">
          DLC
          <input type="checkbox" id="dlcCheckboxPlayer1" checked />
          <span class="slider"></span>
        </label>
      </div>
          <h2>Player 1</h2>
          <table id="player1Table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Image</th>
                <th>Power Level</th>
                <th>Position</th>
              </tr>
            </thead>
            <tbody>
              <!-- Righe generate dinamicamente -->
            </tbody>
          </table>
        </div>

        <!-- Giocatore 2 -->
        <div class="player-table" id="player2TableContainer">
           <div class="dlcToggle">
        <label class="toggle-switch">
          DLC
          <input type="checkbox" id="dlcCheckboxPlayer2" checked />
          <span class="slider"></span>
        </label>
      </div>

          <h2>Player 2</h2>
          <table id="player2Table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Image</th>
                <th>Power Level</th>
                <th>Position</th>
              </tr>
            </thead>
            <tbody>
              <!-- Righe generate dinamicamente -->
            </tbody>
          </table>
        </div>
      </div>

    <script type="module" src="../js/random.js" defer></script>
    <script src="../js/navbar.js" defer></script>
    <script>
      const multiplayerSection = document.getElementById("multiplayerSection");
      const gameModeOptions = document.querySelectorAll('input[name="gameMode"]');
      const presetSelect = document.getElementById("presetSelect");
      const customPresetSection = document.getElementById("customPresetSection");

      // Funzione per gestire il cambiamento della modalità di gioco
      function handleGameModeChange() {
        const selectedMode = document.querySelector('input[name="gameMode"]:checked').value;
        if (selectedMode === "online") {
          multiplayerSection.style.display = "block";
        } else {
          multiplayerSection.style.display = "none";
        }
      }

      // Funzione per gestire il cambiamento del preset
      function handlePresetChange() {
        const selectedPreset = presetSelect.value;
        if (selectedPreset === "custom") {
          customPresetSection.style.display = "block";
        } else {
          customPresetSection.style.display = "none";
        }
      }

      // Aggiungi l'evento di cambiamento per le opzioni di modalità di gioco
      gameModeOptions.forEach(option => {
        option.addEventListener("change", handleGameModeChange);
      });

      // Aggiungi l'evento di cambiamento per il selettore di preset
      presetSelect.addEventListener("change", handlePresetChange);

      // Imposta la modalità iniziale
      handleGameModeChange();
      handlePresetChange();
    </script>
  </body>
</html>
